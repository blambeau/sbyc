$LOAD_PATH.unshift(File.dirname(__FILE__), '..', '..', 'lib')
require 'sbyc/engine'

assert_nothing_raised {
  x = variable(::SByC::Builtin::Integer, 12)
  assert(::SByC::Builtin::Integer == x.type)
  assert(::SByC::Builtin::Integer[12] == x.value)  

  y = variable(::SByC::Builtin::Integer, x)
  assert(::SByC::Builtin::Integer == y.type)
  assert(::SByC::Builtin::Integer[12] == y.value)  
}
assert_raise(::SByC::TypeError) {
  ::SByC::Builtin::Integer["blabla"]  
}
assert_raise(::SByC::TypeError) {
  ::SByC::Builtin::Integer[nil]  
}
